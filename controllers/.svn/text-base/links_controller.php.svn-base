<?php
/* SVN FILE:  $Id$ */
/**
 * Short description for file.
 *
 * Long description for file
 *
 * PHP versions 5
 *
 * Licensed under The BSD License
 * Redistributions of files must retain the above copyright notice.
 *
 * @filesource
 * @copyright     Copyright 2007-2009, Felix Ding (http://dingyu.me)
 * @link          http://lonelythinker.org Project LonelyThinker
 * @package       LonelyThinker
 * @author		  $LastChangedBy$
 * @version       $Revision$
 * @modifiedby    $LastChangedBy$
 * @lastmodified  $Date$
 * @license       http://www.opensource.org/licenses/bsd-license.php The BSD License
 */
class LinksController extends AppController
{
	var $name = 'Links';
	var $scaffold;
	var $othAuthRestrictions = array('index', 'add', 'edit', 'delete');
	
	/**
	 * the interface for getting links
	 *
	 * @date 2009-04-10
	 */
	public function get($linkCategoryId = 0)
	{
		if(($links = $this->readCache('links')) === false)
		{
			$links = $this->Link->find('all', array('conditions'=>array('Link.link_category_id'=>$linkCategoryId)));
			
			$this->writeCache('links', $links);
		}
			
		return $links;
	}
	
	function import()
	{
$recommendations = array();
		$recommendations[] = array('title'=>'《Zen of Palm》读书笔记（目前连载中）', 'url'=>'/posts/view/zen-of-palm-notes-1');
		$recommendations[] = array('title'=>'Greasemonkey脚本：Get Imageshack Started', 'url'=>'/posts/view/get-imageshack-started');				
		$recommendations[] = array('title'=>'为什么网页设计不应强调分工-1和2', 'url'=>'/posts/view/why-no-division-in-web-design-1');	
		$recommendations[] = array('title'=>'闲聊日志分析工具', 'url'=>'/posts/view/log-analysis-tools');
		$recommendations[] = array('title'=>'闲聊网页制作工具', 'url'=>'/posts/view/web-design-tools');
		$recommendations[] = array('title'=>'在CakePHP中使用Last.fm API', 'url'=>'/posts/view/use-lastfm-api-in-cakephp');
		$recommendations[] = array('title'=>'Greasemonkey脚本：保持安静', 'url'=>'/posts/view/keep-silence-script');		
		$recommendations[] = array('title'=>'“Apple和它的设计”系列文章－1至8', 'url'=>'/posts/view/apple-and-its-design-1');
		$recommendations[] = array('title'=>'User Friendly 2008第一、二、三天印象', 'url'=>'/posts/view/user-friendly-2008-day1');
		$recommendations[] = array('title'=>'画Web流程图的一点心得', 'url'=>'/posts/view/flowchart-howtos');				
		$recommendations[] = array('title'=>'绝望主持人－第一、二、三季', 'url'=>'/posts/view/desperate-moderators-s1');
		$recommendations[] = array('title'=>'有关隐喻', 'url'=>'/posts/view/about-metaphors');	
		$recommendations[] = array('title'=>'Javascript使用上的几点考虑', 'url'=>'/posts/view/when-no-javascript');
		$recommendations[] = array('title'=>'D2归来及北京印象 1', 'url'=>'/posts/view/d2-and-beijing-part-1');
		$recommendations[] = array('title'=>'说说互联网公司内设计师的分工', 'url'=>'/posts/view/roles-of-designers');
		$recommendations[] = array('title'=>'jQuery的Countdown插件 v0.2', 'url'=>'/posts/view/jquery-countdown-plugin');
		$recommendations[] = array('title'=>'我所使用的Firefox扩展', 'url'=>'/posts/view/my-firefox-extensions');
		$recommendations[] = array('title'=>'有感于与三通的对话', 'url'=>'/posts/view/ued-team-up');
		$recommendations[] = array('title'=>'未来的UI设计 2：直接操纵', 'url'=>'/posts/view/the-future-of-ui-design-part-2');
		$recommendations[] = array('title'=>'最好的原型和流程图绘制工具：OmniGraffle', 'url'=>'/posts/view/omnigraffle-the-best-wireframe-and-flow-design-tool');
	
		foreach($recommendations as $recommendation)
		{
		/*
			$data['Link']['link_category_id'] = 3;
			$data['Link']['title'] = $recommendation['title'];
			$data['Link']['url'] = $recommendation['url'];
			$data['Link']['description'] = $recommendation['description'] = '';
			
			$this->Link->create();
			$this->Link->save($data);	*/					
		}	
	}
}
?>